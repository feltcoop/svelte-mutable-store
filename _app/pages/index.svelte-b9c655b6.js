import{C as Wt,S as re,i as ne,n as ce,e as a,t as r,j as M,c as s,a as l,g as n,d as o,m as O,b as E,f as ue,F as t,K as oe,s as Bt,J as le,L as ie,M as Dt}from"../chunks/vendor-5a5860ad.js";const de=c=>{let u=!1;const d={value:c},h={value:c},{subscribe:k,set:m}=Wt(d);return{subscribe:k,mutate:e=>{e&&e(c),m((u=!u)?h:d)},swap:e=>{c=d.value=h.value=e,m((u=!u)?h:d)}}},he=c=>{const{subscribe:u,set:d}=Wt({value:c});return{subscribe:u,mutate:h=>{h&&h(c),d({value:c})},swap:h=>{c=h,d({value:c})}}};function me(c){let u,d,h,k,m,e,p,w,A,S,C,Z,f,H,y=c[1].value.get(c[3])+"",$,at,st,ot,R,F,lt,rt,I,nt,ct,U,q=c[2].value.get(c[3])+"",x,ut,it,dt,L,J,ht,mt,ft,b,bt,N,K,pt,vt,z,_t,gt,Q,V=c[0].get(c[3])+"",tt,Et,wt,Mt,W,X,Ot,kt,At,T,B,St,Tt,D,Ct,Rt,G,Y,P,Lt,Nt,Gt;return{c(){u=a("main"),d=a("h1"),h=r("@feltcoop/svelte-mutable-store"),k=M(),m=a("section"),e=a("p"),p=a("a"),w=a("code"),A=r("mutable"),S=r(`
			(`),C=a("small"),Z=r("count:"),f=M(),H=a("strong"),$=r(y),at=r(") and"),st=a("br"),ot=M(),R=a("a"),F=a("code"),lt=r("safeMutable"),rt=r(`
			(`),I=a("small"),nt=r("count:"),ct=M(),U=a("strong"),x=r(q),ut=r(") "),it=a("br"),dt=r(` both react to changes even though their
			values are mutated and the
			`),L=a("a"),J=a("code"),ht=r("immutable"),mt=r(`
			option is enabled`),ft=M(),b=a("p"),bt=r(`their
			`),N=a("a"),K=a("code"),pt=r("writable"),vt=r(`
			counterpart (`),z=a("small"),_t=r("count:"),gt=M(),Q=a("strong"),tt=r(V),Et=r(") "),wt=a("br"),Mt=r(`does not update because it mutates its value, but it
			will update if
			`),W=a("a"),X=a("code"),Ot=r("immutable"),kt=r(" is disabled"),At=M(),T=a("p"),B=a("button"),St=r("click me to increment"),Tt=M(),D=a("button"),Ct=r("reset"),Rt=M(),G=a("footer"),Y=a("p"),P=a("a"),Lt=r("learn more and get the source code on GitHub"),this.h()},l(v){u=s(v,"MAIN",{class:!0});var _=l(u);d=s(_,"H1",{class:!0});var Pt=l(d);h=n(Pt,"@feltcoop/svelte-mutable-store"),Pt.forEach(o),k=O(_),m=s(_,"SECTION",{class:!0});var j=l(m);e=s(j,"P",{});var i=l(e);p=s(i,"A",{href:!0});var jt=l(p);w=s(jt,"CODE",{});var Ht=l(w);A=n(Ht,"mutable"),Ht.forEach(o),jt.forEach(o),S=n(i,`
			(`),C=s(i,"SMALL",{});var yt=l(C);Z=n(yt,"count:"),yt.forEach(o),f=O(i),H=s(i,"STRONG",{});var Ft=l(H);$=n(Ft,y),Ft.forEach(o),at=n(i,") and"),st=s(i,"BR",{}),ot=O(i),R=s(i,"A",{href:!0});var It=l(R);F=s(It,"CODE",{});var Ut=l(F);lt=n(Ut,"safeMutable"),Ut.forEach(o),It.forEach(o),rt=n(i,`
			(`),I=s(i,"SMALL",{});var qt=l(I);nt=n(qt,"count:"),qt.forEach(o),ct=O(i),U=s(i,"STRONG",{});var Jt=l(U);x=n(Jt,q),Jt.forEach(o),ut=n(i,") "),it=s(i,"BR",{}),dt=n(i,` both react to changes even though their
			values are mutated and the
			`),L=s(i,"A",{href:!0});var Kt=l(L);J=s(Kt,"CODE",{});var zt=l(J);ht=n(zt,"immutable"),zt.forEach(o),Kt.forEach(o),mt=n(i,`
			option is enabled`),i.forEach(o),ft=O(j),b=s(j,"P",{});var g=l(b);bt=n(g,`their
			`),N=s(g,"A",{href:!0});var Qt=l(N);K=s(Qt,"CODE",{});var Vt=l(K);pt=n(Vt,"writable"),Vt.forEach(o),Qt.forEach(o),vt=n(g,`
			counterpart (`),z=s(g,"SMALL",{});var Xt=l(z);_t=n(Xt,"count:"),Xt.forEach(o),gt=O(g),Q=s(g,"STRONG",{});var Yt=l(Q);tt=n(Yt,V),Yt.forEach(o),Et=n(g,") "),wt=s(g,"BR",{}),Mt=n(g,`does not update because it mutates its value, but it
			will update if
			`),W=s(g,"A",{href:!0});var Zt=l(W);X=s(Zt,"CODE",{});var $t=l(X);Ot=n($t,"immutable"),$t.forEach(o),Zt.forEach(o),kt=n(g," is disabled"),g.forEach(o),At=O(j),T=s(j,"P",{class:!0});var et=l(T);B=s(et,"BUTTON",{});var xt=l(B);St=n(xt,"click me to increment"),xt.forEach(o),Tt=O(et),D=s(et,"BUTTON",{});var te=l(D);Ct=n(te,"reset"),te.forEach(o),et.forEach(o),j.forEach(o),Rt=O(_),G=s(_,"FOOTER",{class:!0});var ee=l(G);Y=s(ee,"P",{});var ae=l(Y);P=s(ae,"A",{href:!0});var se=l(P);Lt=n(se,"learn more and get the source code on GitHub"),se.forEach(o),ae.forEach(o),ee.forEach(o),_.forEach(o),this.h()},h(){E(d,"class","svelte-19vgrwu"),E(p,"href","https://github.com/feltcoop/svelte-mutable-store/blob/main/src/lib/mutable.ts"),E(R,"href","https://github.com/feltcoop/svelte-mutable-store/blob/main/src/lib/safeMutable.ts"),E(L,"href","https://svelte.dev/docs#compile-time-svelte-compile"),E(N,"href","https://svelte.dev/docs#run-time-svelte-store-writable"),E(W,"href","https://svelte.dev/docs#compile-time-svelte-compile"),E(T,"class","buttons svelte-19vgrwu"),E(m,"class","column-sm"),E(P,"href","https://github.com/feltcoop/svelte-mutable-store"),E(G,"class","markup svelte-19vgrwu"),E(u,"class","column markup svelte-19vgrwu")},m(v,_){ue(v,u,_),t(u,d),t(d,h),t(u,k),t(u,m),t(m,e),t(e,p),t(p,w),t(w,A),t(e,S),t(e,C),t(C,Z),t(e,f),t(e,H),t(H,$),t(e,at),t(e,st),t(e,ot),t(e,R),t(R,F),t(F,lt),t(e,rt),t(e,I),t(I,nt),t(e,ct),t(e,U),t(U,x),t(e,ut),t(e,it),t(e,dt),t(e,L),t(L,J),t(J,ht),t(e,mt),t(m,ft),t(m,b),t(b,bt),t(b,N),t(N,K),t(K,pt),t(b,vt),t(b,z),t(z,_t),t(b,gt),t(b,Q),t(Q,tt),t(b,Et),t(b,wt),t(b,Mt),t(b,W),t(W,X),t(X,Ot),t(b,kt),t(m,At),t(m,T),t(T,B),t(B,St),t(T,Tt),t(T,D),t(D,Ct),t(u,Rt),t(u,G),t(G,Y),t(Y,P),t(P,Lt),Nt||(Gt=[oe(B,"click",c[7]),oe(D,"click",c[8])],Nt=!0)},p(v,[_]){_&2&&y!==(y=v[1].value.get(v[3])+"")&&Bt($,y),_&4&&q!==(q=v[2].value.get(v[3])+"")&&Bt(x,q),_&1&&V!==(V=v[0].get(v[3])+"")&&Bt(tt,V)},i:le,o:le,d(v){v&&o(u),Nt=!1,ie(Gt)}}}function fe(c,u,d){let h,k,m;const e={},p=[[e,1]],w=de(new WeakMap(p));Dt(c,w,f=>d(1,k=f));const A=he(new WeakMap(p));Dt(c,A,f=>d(2,m=f));const S=Wt(new WeakMap(p));return Dt(c,S,f=>d(0,h=f)),[h,k,m,e,w,A,S,()=>{w.mutate(f=>{f.set(e,f.get(e)+1)}),A.mutate(f=>{f.set(e,f.get(e)+1)}),h.set(e,h.get(e)+1),S.set(h)},()=>{w.swap(new WeakMap(p)),A.swap(new WeakMap(p)),S.set(new WeakMap(p))}]}class pe extends re{constructor(u){super();ne(this,u,fe,me,ce,{})}}export{pe as default};

import{C as Tt,S as te,i as ee,n as ae,e as a,t as l,j as M,c as s,a as c,g as o,d as r,m as k,b as g,f as se,F as t,K as $t,s as Wt,J as xt,L as le,M as Bt}from"../chunks/vendor-5a5860ad.js";const oe=n=>{let u=!1;const d={value:n},h={value:n},{subscribe:O,set:m}=Tt(d);return{subscribe:O,mutate:e=>{e&&e(n),m((u=!u)?h:d)},swap:e=>{n=d.value=h.value=e,m((u=!u)?h:d)}}},re=n=>{const{subscribe:u,set:d}=Tt({value:n});return{subscribe:u,mutate:h=>{h&&h(n),d({value:n})},swap:h=>{n=h,d({value:n})}}};function ne(n){let u,d,h,O,m,e,p,w,A,C,S,V,b,y=n[1].value.get(n[3])+"",X,x,tt,et,T,F,at,st,G,lt,ot,I=n[2].value.get(n[3])+"",Y,rt,nt,ct,W,U,ut,it,dt,f,ht,B,q,mt,bt,J,ft,pt,K=n[0].get(n[3])+"",Z,vt,_t,Et,D,z,gt,wt,Mt,L,R,kt,Ot,N,At,Ct,P,Q,j,Lt,St,Dt;return{c(){u=a("main"),d=a("h1"),h=l("@feltcoop/svelte-mutable-store"),O=M(),m=a("section"),e=a("p"),p=a("a"),w=a("code"),A=l("mutable"),C=l(`
			(`),S=a("small"),V=l("count:"),b=M(),X=l(y),x=l(") and"),tt=a("br"),et=M(),T=a("a"),F=a("code"),at=l("safeMutable"),st=l(`
			(`),G=a("small"),lt=l("count:"),ot=M(),Y=l(I),rt=l(") "),nt=a("br"),ct=l(` both react to changes even though their values are mutated and
			the
			`),W=a("a"),U=a("code"),ut=l("immutable"),it=l(`
			option is enabled`),dt=M(),f=a("p"),ht=l(`their
			`),B=a("a"),q=a("code"),mt=l("writable"),bt=l(`
			counterpart (`),J=a("small"),ft=l("count:"),pt=M(),Z=l(K),vt=l(") "),_t=a("br"),Et=l(`does not update because it mutates its value, but it will update if
			`),D=a("a"),z=a("code"),gt=l("immutable"),wt=l(" is disabled"),Mt=M(),L=a("p"),R=a("button"),kt=l("click me to increment"),Ot=M(),N=a("button"),At=l("reset"),Ct=M(),P=a("footer"),Q=a("p"),j=a("a"),Lt=l("learn more and get the source code on GitHub"),this.h()},l(v){u=s(v,"MAIN",{class:!0});var _=c(u);d=s(_,"H1",{class:!0});var Rt=c(d);h=o(Rt,"@feltcoop/svelte-mutable-store"),Rt.forEach(r),O=k(_),m=s(_,"SECTION",{class:!0});var H=c(m);e=s(H,"P",{});var i=c(e);p=s(i,"A",{href:!0});var Nt=c(p);w=s(Nt,"CODE",{});var Pt=c(w);A=o(Pt,"mutable"),Pt.forEach(r),Nt.forEach(r),C=o(i,`
			(`),S=s(i,"SMALL",{});var jt=c(S);V=o(jt,"count:"),jt.forEach(r),b=k(i),X=o(i,y),x=o(i,") and"),tt=s(i,"BR",{}),et=k(i),T=s(i,"A",{href:!0});var Ht=c(T);F=s(Ht,"CODE",{});var yt=c(F);at=o(yt,"safeMutable"),yt.forEach(r),Ht.forEach(r),st=o(i,`
			(`),G=s(i,"SMALL",{});var Ft=c(G);lt=o(Ft,"count:"),Ft.forEach(r),ot=k(i),Y=o(i,I),rt=o(i,") "),nt=s(i,"BR",{}),ct=o(i,` both react to changes even though their values are mutated and
			the
			`),W=s(i,"A",{href:!0});var Gt=c(W);U=s(Gt,"CODE",{});var It=c(U);ut=o(It,"immutable"),It.forEach(r),Gt.forEach(r),it=o(i,`
			option is enabled`),i.forEach(r),dt=k(H),f=s(H,"P",{});var E=c(f);ht=o(E,`their
			`),B=s(E,"A",{href:!0});var Ut=c(B);q=s(Ut,"CODE",{});var qt=c(q);mt=o(qt,"writable"),qt.forEach(r),Ut.forEach(r),bt=o(E,`
			counterpart (`),J=s(E,"SMALL",{});var Jt=c(J);ft=o(Jt,"count:"),Jt.forEach(r),pt=k(E),Z=o(E,K),vt=o(E,") "),_t=s(E,"BR",{}),Et=o(E,`does not update because it mutates its value, but it will update if
			`),D=s(E,"A",{href:!0});var Kt=c(D);z=s(Kt,"CODE",{});var zt=c(z);gt=o(zt,"immutable"),zt.forEach(r),Kt.forEach(r),wt=o(E," is disabled"),E.forEach(r),Mt=k(H),L=s(H,"P",{class:!0});var $=c(L);R=s($,"BUTTON",{});var Qt=c(R);kt=o(Qt,"click me to increment"),Qt.forEach(r),Ot=k($),N=s($,"BUTTON",{});var Vt=c(N);At=o(Vt,"reset"),Vt.forEach(r),$.forEach(r),H.forEach(r),Ct=k(_),P=s(_,"FOOTER",{class:!0});var Xt=c(P);Q=s(Xt,"P",{});var Yt=c(Q);j=s(Yt,"A",{href:!0});var Zt=c(j);Lt=o(Zt,"learn more and get the source code on GitHub"),Zt.forEach(r),Yt.forEach(r),Xt.forEach(r),_.forEach(r),this.h()},h(){g(d,"class","svelte-19vgrwu"),g(p,"href","https://github.com/feltcoop/svelte-mutable-store/blob/main/src/lib/mutable.ts"),g(T,"href","https://github.com/feltcoop/svelte-mutable-store/blob/main/src/lib/safeMutable.ts"),g(W,"href","https://svelte.dev/docs#compile-time-svelte-compile"),g(B,"href","https://svelte.dev/docs#run-time-svelte-store-writable"),g(D,"href","https://svelte.dev/docs#compile-time-svelte-compile"),g(L,"class","buttons svelte-19vgrwu"),g(m,"class","column-sm"),g(j,"href","https://github.com/feltcoop/svelte-mutable-store"),g(P,"class","markup svelte-19vgrwu"),g(u,"class","column markup svelte-19vgrwu")},m(v,_){se(v,u,_),t(u,d),t(d,h),t(u,O),t(u,m),t(m,e),t(e,p),t(p,w),t(w,A),t(e,C),t(e,S),t(S,V),t(e,b),t(e,X),t(e,x),t(e,tt),t(e,et),t(e,T),t(T,F),t(F,at),t(e,st),t(e,G),t(G,lt),t(e,ot),t(e,Y),t(e,rt),t(e,nt),t(e,ct),t(e,W),t(W,U),t(U,ut),t(e,it),t(m,dt),t(m,f),t(f,ht),t(f,B),t(B,q),t(q,mt),t(f,bt),t(f,J),t(J,ft),t(f,pt),t(f,Z),t(f,vt),t(f,_t),t(f,Et),t(f,D),t(D,z),t(z,gt),t(f,wt),t(m,Mt),t(m,L),t(L,R),t(R,kt),t(L,Ot),t(L,N),t(N,At),t(u,Ct),t(u,P),t(P,Q),t(Q,j),t(j,Lt),St||(Dt=[$t(R,"click",n[7]),$t(N,"click",n[8])],St=!0)},p(v,[_]){_&2&&y!==(y=v[1].value.get(v[3])+"")&&Wt(X,y),_&4&&I!==(I=v[2].value.get(v[3])+"")&&Wt(Y,I),_&1&&K!==(K=v[0].get(v[3])+"")&&Wt(Z,K)},i:xt,o:xt,d(v){v&&r(u),St=!1,le(Dt)}}}function ce(n,u,d){let h,O,m;const e={},p=[[e,1]],w=oe(new WeakMap(p));Bt(n,w,b=>d(1,O=b));const A=re(new WeakMap(p));Bt(n,A,b=>d(2,m=b));const C=Tt(new WeakMap(p));return Bt(n,C,b=>d(0,h=b)),[h,O,m,e,w,A,C,()=>{w.mutate(b=>{b.set(e,b.get(e)+1)}),A.mutate(b=>{b.set(e,b.get(e)+1)}),h.set(e,h.get(e)+1),C.set(h)},()=>{w.swap(new WeakMap(p)),A.swap(new WeakMap(p)),C.set(new WeakMap(p))}]}class ie extends te{constructor(u){super();ee(this,u,ce,ne,ae,{})}}export{ie as default};
